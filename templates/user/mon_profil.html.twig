{% extends 'base.html.twig' %}

{% block title %}Mon Profil - EcoRide{% endblock %}

{% block body %}
<section class="container my-5">
  <header class="text-center mb-5">
    <h1 class="display-5 text-info">ğŸ‘¤ Mon Profil</h1>
    <p class="text-muted">Voici vos trajets crÃ©Ã©s et rÃ©servÃ©s.</p>
  </header>

  <section class="mb-5">
    <h2 class="h4 text-success">ğŸš˜ Mes trajets crÃ©Ã©s</h2>
    <div class="row">
      {% for trajet in trajets_crees %}
        <div class="col-md-6 my-3">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">{{ trajet.depart }} â†’ {{ trajet.destination }}</h5>
              <p class="card-text">
                <strong>Date :</strong> {{ trajet.dateHeure|date('d/m/Y H:i') }}<br>
                <strong>Places :</strong> {{ trajet.nbPlaces }}<br>
                <strong>Prix :</strong> {{ trajet.prix }} â‚¬
              </p>
              <a href="{{ path('app_trajet_edit', { id: trajet.id }) }}" class="btn btn-outline-primary">Modifier</a>
            </div>
          </div>
        </div>
      {% else %}
        <p class="text-muted">Aucun trajet crÃ©Ã© pour le moment.</p>
      {% endfor %}
    </div>
  </section>

  <section>
    <h2 class="h4 text-success">ğŸ“Œ Mes trajets rÃ©servÃ©s</h2>
    <div class="row">
      {% for reservation in trajets_reserves %}
        <div class="col-md-6 my-3">
          <div class="card border-info">
            <div class="card-body">
              <h5 class="card-title">
                {{ reservation.trajet.depart }} â†’ {{ reservation.trajet.destination }}
              </h5>
              <p class="card-text">
                <strong>Date :</strong> {{ reservation.trajet.dateHeure|date('d/m/Y H:i') }}<br>
                <strong>Conducteur :</strong> {{ reservation.trajet.user.email }}
              </p>
              <span class="badge bg-info text-dark">RÃ©servÃ©</span>
            </div>
          </div>
        </div>
      {% else %}
        <p class="text-muted">Aucune rÃ©servation en cours.</p>
      {% endfor %}
    </div>
  </section>
</section>
{% endblock %}
